/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/droppable@2.2.0/dist/droppable.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Droppable=t()}(this,function(){"use strict";return function(){function e(t){if(this.onFilesDroppedEventListeners=[],!(t=t||{}).element)throw new Error("config.element: HTMLElement is required");this.virtualInputElement=e.makeVirtualInputElement();var n="boolean"!=typeof t.isClickable||t.isClickable,i="boolean"!=typeof t.acceptsMultipleFiles||t.acceptsMultipleFiles,s="boolean"!=typeof t.appendStatusClasses||t.appendStatusClasses;this.dragOverClass="string"==typeof t.dragOverClass?t.dragOverClass:"dragover",this.setIsClickable(n),this.setAcceptsMultipleFiles(i),this.setAppendStatusClasses(s),this.element=t.element,this.elementEventsRemover=this.registerElementEvents(),e.addAccessibilityAttributesToDroppableElement(this.element),this.virtualInputElementEventsRemover=this.registerVirtualInputElementEvents()}return e.makeVirtualInputElement=function(){var e=document.createElement("input");return e.setAttribute("type","file"),e.style.display="none",e},e.addAccessibilityAttributesToDroppableElement=function(e){e.tabIndex=0,e.role="button"},e.removeAccessibilityAttributesToDroppableElement=function(e){delete e.role,e.removeAttribute("tabIndex")},e.prototype.onFilesDropped=function(e){var t=this;return this.onFilesDroppedEventListeners.push(e),function(){var n=t.onFilesDroppedEventListeners.indexOf(e);t.onFilesDroppedEventListeners.splice(n,1)}},e.prototype.destroy=function(){this.elementEventsRemover(),this.virtualInputElementEventsRemover(),this.onFilesDroppedEventListeners=[],e.removeAccessibilityAttributesToDroppableElement(this.element)},e.prototype.getLatestDroppedFiles=function(){return this.latestDroppedFiles?this.latestDroppedFiles:[]},e.prototype.promptForFiles=function(){this.virtualInputElement.click()},e.prototype.setIsClickable=function(e){this.isClickable=e},e.prototype.setAcceptsMultipleFiles=function(e){this.virtualInputElement.setAttribute("multiple",e.toString())},e.prototype.setAppendStatusClasses=function(e){this.appendStatusClasses=e},e.prototype.registerElementEvents=function(){var e=this.getElementEventsDictionary();return this.registerElementEventsWithDictionary(this.element,e)},e.prototype.registerVirtualInputElementEvents=function(){var e=this.getVirtualInputElementEventsDictionary();return this.registerElementEventsWithDictionary(this.virtualInputElement,e)},e.prototype.getVirtualInputElementEventsDictionary=function(){return{change:this.onVirtualInputElementChange}},e.prototype.getElementEventsDictionary=function(){return{dragover:this.onElementDragOver,dragleave:this.onElementDragLeave,drop:this.onElementDrop,click:this.onElementClick,focus:this.onElementFocus,focusout:this.onElementFocusOut}},e.prototype.onElementDragOver=function(e){e.preventDefault(),e.stopPropagation(),this.appendStatusClasses&&this.element.classList.add(this.dragOverClass)},e.prototype.onElementDragLeave=function(e){e.preventDefault(),e.stopPropagation(),this.element.classList.remove(this.dragOverClass)},e.prototype.onElementDrop=function(e){e.preventDefault(),e.stopPropagation(),this.element.classList.remove(this.dragOverClass),this.onDroppableElementChange(e)},e.prototype.onElementClick=function(){this.isClickable&&this.promptForFiles()},e.prototype.onElementKeyDown=function(t){t.keyCode===e.ENTER_KEY_CODE&&(this.promptForFiles(),this.element.blur())},e.prototype.onElementFocus=function(){this.elementKeyDownEventRemover=this.registerElementEventsWithDictionary(this.element,{keydown:this.onElementKeyDown})},e.prototype.onElementFocusOut=function(){this.elementKeyDownEventRemover&&this.elementKeyDownEventRemover()},e.prototype.onVirtualInputElementChange=function(e){this.onDroppableElementChange(e),this.virtualInputElement.value=""},e.prototype.onDroppableElementChange=function(e){var t;if(e.dataTransfer)t=e.dataTransfer.files;else{if(!e.target)throw Error("Fired event contains no files");t=e.target.files}var n=Array.from(t);this.setLatestDrop(n)},e.prototype.setLatestDrop=function(e){this.latestDroppedFiles=e,this.emitFilesWereDropped(e)},e.prototype.emitFilesWereDropped=function(e){this.onFilesDroppedEventListeners.forEach(function(t){t(e)})},e.prototype.registerElementEventsWithDictionary=function(e,t){var n=this,i=[];return Object.keys(t).forEach(function(s){var o=t[s].bind(n);e.addEventListener(s,o),i.push(function(){return e.removeEventListener(s,o)})}),function(){return i.forEach(function(e){return e()})}},e.ENTER_KEY_CODE=13,e}()});
//# sourceMappingURL=/sm/9c86042f5108de8d9f7067e5a756ae12d7d62b6c44e4320d865df41382689383.map